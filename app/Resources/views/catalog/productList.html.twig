{% extends 'base.html.twig' %}

{% block javascripts %}
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>
    <script type="text/javascript">
        function SendRequest(categoryId) {
            $.ajax({
                type: "POST",
                url: "{{ path('product_list_action') }}",
                data: "data_1=" + categoryId,
                success: function (response) {
                    $('#response').html(response);
                }
            });
        };
    </script>
{% endblock %}

{% block body %}
    <h1>Product List</h1>

    <div class="container">
    <div class="row">
        <div class="col-sm-3">
            {% for main_category in categories %}
                <li>{{ main_category.name }}</li>
                <ul>
                    {% include "includes/child-categories.html.twig" with {'categories':main_category.children} only %}
                </ul>
            {% endfor %}
        </div>
        <div class="col-lg">
            <div class="card-columns">
                <div id="response"></div>
            </div>
        </div>
    </div>



{% endblock %}